{"version":3,"sources":["components/Filter.js","components/Form.js","components/Persons.js","services/phonebook.js","App.js","index.js"],"names":["Filter","handleSearch","onChange","Form","props","handleNameChange","handleNumberChange","newContactName","newContactNumber","addContact","onSubmit","value","required","type","Persons","contacts","deleteContact","names","map","contact","key","name","number","onClick","baseUrl","axios","get","then","response","data","newObject","post","id","delete","put","Notification","message","status","className","App","useState","setContacts","setNewContactName","setNewContactNumber","setMessage","setStatus","useEffect","phoneService","phoneNumbers","event","newSearch","target","newResult","filter","toLowerCase","includes","preventDefault","contactObject","newContact","some","item","existingContact","find","contactId","updatedContact","window","confirm","returnedContact","setTimeout","catch","err","_updateName","console","log","concat","success","person","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.e37b0511.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter = ({ handleSearch }) => {\r\n    return (\r\n    <div>\r\n        filter shown with<input onChange={handleSearch}></input>\r\n    </div>\r\n    )\r\n}\r\n\r\nexport default Filter","import React from 'react';\r\n\r\nconst Form = (props) => {\r\n    const { handleNameChange, handleNumberChange, newContactName, newContactNumber, addContact } = props\r\n    return (\r\n        <div>\r\n            <form onSubmit={addContact}>\r\n                <div>\r\n                    name: <input onChange={handleNameChange} value={newContactName} required/>\r\n                </div>\r\n                <div>\r\n                    number: <input onChange={handleNumberChange} value={newContactNumber} required/>\r\n                </div>\r\n                <div>\r\n                    <button type=\"submit\">add</button>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Form;","import React from 'react';\r\n\r\nconst Persons = ({ contacts, deleteContact }) => {\r\n    const names = contacts.map(contact=>\r\n        // <Person  key={person.name} person={person}/>\r\n        <tr key={contact.name}>\r\n            <td>{contact.name}</td>\r\n            <td>{contact.number}</td>\r\n            <td><button onClick={()=>deleteContact(contact)}>X</button></td>\r\n        </tr>\r\n    )\r\n    return (\r\n        <div>\r\n             <table>\r\n                <tbody>\r\n                    {names}\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Persons","import axios from \"axios\"\r\n\r\nconst baseUrl = 'api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst addNew = (newObject) => {\r\n    const request = axios.post(baseUrl, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst updateExisting = (id, newObject) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst deleteContact = (id) => {\r\n    const request = axios.delete(`${baseUrl}/${id}`)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nexport default {getAll, addNew, deleteContact, updateExisting}","import React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport Form from './components/Form'\nimport Persons from './components/Persons'\nimport phoneService from './services/phonebook'\n\nconst Notification = ({ message, status }) => {\n  if(message===null) {\n    return null\n  }\n  return (\n    <div className={`notification ${status}`}>\n      <em>{message}</em>\n    </div>\n  )\n}\n\nconst App = () => {\n  const [ contacts, setContacts] = useState([])\n  const [ newContactName, setNewContactName ] = useState('')\n  const [ newContactNumber, setNewContactNumber ] = useState('')\n  const [message, setMessage] = useState(null)\n  const [status, setStatus] = useState('') //Set success or fail status according to server response\n\n  useEffect(() => {\n    phoneService\n    .getAll()\n    .then(phoneNumbers => {\n      setContacts(phoneNumbers)\n    })\n  }, [])\n\n  const handleNameChange = (event) => {\n    setNewContactName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewContactNumber(event.target.value)\n  }\n\n  const handleNameSearch = (event) => {\n    const newSearch = event.target.value\n    const newResult = contacts.filter(contact => contact.name.toLowerCase().includes(newSearch))\n    setContacts(newResult)\n  }\n\n  const addContact = (event) => {\n    event.preventDefault()\n    const newContact = {\n      name: newContactName,\n      number: newContactNumber\n    }\n\n    //Helper function to update existing contact\n    const _updateName = (name) => {\n      const existingContact = contacts.find(contact => contact.name === name)\n      const contactId = existingContact.id\n      const updatedContact = { ...existingContact, number: newContactNumber }\n\n      if(window.confirm(`${name} already added to phonebook. Replace old number with new one?`)){\n        phoneService.updateExisting(contactId, updatedContact)\n        .then(returnedContact => {\n          setContacts(contacts.map(contact => contact.id !== contactId ? contact : returnedContact))\n          setMessage(`${name} updated`)\n          setStatus('success')\n          setTimeout(() => {\n            setMessage(null)\n          }, 5000)\n        })\n        .catch(err => {\n          setMessage(`${name} has been removed from server. Please refresh your page`)\n          setStatus('fail')\n          setTimeout(() => {\n            setMessage(null)\n          }, 5000)\n        })\n      }\n      setNewContactName('')\n      setNewContactNumber('')\n    }\n\n    //Helper function to add new contact\n    const _addContact = (contactObject) => {\n      console.log(contactObject)\n      phoneService\n      .addNew(contactObject)\n      .then(returnedContact => {\n        setContacts(contacts.concat(returnedContact))\n        setMessage(`${returnedContact.name} added to phonebook`)\n        setStatus('success')\n        setTimeout(() => {\n          setMessage(null)\n        }, 5000)\n      })\n      setNewContactName('')\n      setNewContactNumber('')\n    }\n\n    //Check if contact name already exists\n    contacts.some(item => item.name === newContactName)\n    ? _updateName(newContactName) //update existing\n    : _addContact(newContact) //add new\n  }\n\n  const deleteContact = (contact) => {\n    if(window.confirm(`Delete ${contact.name}`)) {\n      phoneService.deleteContact(contact.id)\n      .then(success => {\n        setContacts(contacts.filter(person => person.id !== contact.id))\n        setMessage(`${contact.name} deleted!`)\n        setStatus('success')\n        setTimeout(() => {\n          setMessage(null)\n        }, 5000)\n      })\n      .catch(err => {\n        setMessage(`${contact.name} has already been removed from server. Please refresh your page`)\n        setStatus('fail')\n        setTimeout(() => {\n          setMessage(null)\n        }, 5000)\n      })\n    }\n  }\n  return (\n    <>\n      <h2>Phonebook</h2>\n      <Notification message={message} status={status}/>\n      <Filter handleSearch={handleNameSearch}/>\n      <h3>add a new</h3>\n      <Form\n        handleNameChange={handleNameChange}\n        handleNumberChange={handleNumberChange}\n        newContactName={newContactName}\n        newContactNumber={newContactNumber}\n        addContact={addContact}\n      />\n      <h3>Numbers</h3>\n      <Persons contacts={contacts} deleteContact={deleteContact} />\n    </>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n"],"sourceRoot":""}